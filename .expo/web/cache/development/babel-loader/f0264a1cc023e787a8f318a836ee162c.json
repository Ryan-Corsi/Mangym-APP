{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport firebaseApp from \"./firebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar db = firebaseApp.firestore();\nvar storage = firebaseApp.storage();\nexport default function Create(_ref) {\n  var _route$params;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      texto = _useState4[0],\n      setTexto = _useState4[1];\n\n  var param = (_route$params = route.params) == null ? void 0 : _route$params.iddocara;\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      image = _useState6[0],\n      setImage = _useState6[1];\n\n  var upload = function upload() {\n    if (image == null) return;\n    storage.ref(\"/images/\" + (description.replace(/ +/g, \"\") + \"_\" + image.name)).put(image).on(\"state_changed\", alert(\"success\"), alert);\n  };\n\n  function adicionar() {\n    db.collection(\"Crud\").add({\n      description: description,\n      status: false,\n      image: description.replace(/ +/g, \"\") + \"_\" + image.name\n    });\n    setDescription(\"\");\n    setTexto('Cadastrado com sucesso');\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      children: param\n    }), _jsx(Text, {\n      style: styles.titleText,\n      children: \"Create\"\n    }), _jsx(TextInput, {\n      style: styles.textInput,\n      placeholder: \"Nome do curso\",\n      onChangeText: setDescription,\n      value: description\n    }), _jsxs(View, {\n      style: styles.foto,\n      children: [_jsx(View, {\n        style: styles.fotoFoto,\n        children: _jsx(Text, {\n          style: {\n            color: '#aaa'\n          },\n          children: \"FOTO\"\n        })\n      }), _jsx(\"input\", {\n        type: \"file\",\n        onChange: function onChange(e) {\n          setImage(e.target.files[0]);\n        }\n      }), _jsx(View, {\n        style: styles.fotoBotao,\n        children: _jsx(\"button\", {\n          onClick: upload,\n          children: \"Upload\"\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.textSucesso,\n      children: _jsx(Text, {\n        style: {\n          color: '#0c0',\n          fontSize: 20\n        },\n        children: texto\n      })\n    }), _jsx(View, {\n      style: styles.botaoSalvar,\n      children: _jsx(Button, {\n        title: \"Salvar\",\n        onPress: function onPress() {\n          adicionar();\n        }\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center'\n  },\n  textInput: {\n    borderRadius: 5,\n    backgroundColor: '#eee',\n    marginTop: 10,\n    padding: 10,\n    height: 40,\n    width: '60%'\n  },\n  botaoSalvar: {\n    marginBottom: 10,\n    padding: 0\n  },\n  salvar: {\n    fontSize: 15,\n    color: '#fff',\n    fontFamily: 'arial'\n  },\n  titleText: {\n    color: '#f20a4f',\n    fontSize: 25,\n    fontWeight: 'bold',\n    fontFamily: 'calibri'\n  },\n  textSucesso: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    width: '90%',\n    marginBottom: 0,\n    marginTop: 0\n  },\n  foto: {\n    alignItems: 'center',\n    marginTop: 30\n  },\n  fotoBotao: {\n    marginTop: 20,\n    width: '30%'\n  },\n  fotoFoto: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#ddd',\n    width: 200,\n    height: 200\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","firebaseApp","db","firestore","storage","Create","navigation","route","description","setDescription","texto","setTexto","param","params","iddocara","image","setImage","upload","ref","replace","name","put","on","alert","adicionar","collection","add","status","styles","container","titleText","textInput","foto","fotoFoto","color","e","target","files","fotoBotao","textSucesso","fontSize","botaoSalvar","StyleSheet","create","flex","backgroundColor","alignItems","borderRadius","marginTop","padding","height","width","marginBottom","salvar","fontFamily","fontWeight","justifyContent"],"sources":["D:/Somativa/SomativaAPP/components/create.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { View, Text, StyleSheet, TextInput, Button, TouchableOpacity } from 'react-native'\r\nimport firebaseApp from './firebaseConfig'\r\n\r\nconst db = firebaseApp.firestore();\r\nconst storage = firebaseApp.storage();\r\n\r\nexport default function Create({ navigation, route}) {\r\n  const [description, setDescription] = useState()\r\n  const [texto, setTexto] = useState()\r\n  var param =  route.params?.iddocara;\r\n  \r\n  //############## Imagens ####################\r\n  const [image, setImage] = useState('');\r\n  const upload = () => {\r\n    if (image == null)\r\n      return;\r\n    storage.ref(`/images/${description.replace(/ +/g, \"\") + \"_\" + image.name}`).put(image)\r\n      .on(\"state_changed\", alert(\"success\"), alert);\r\n  }\r\n\r\n  function adicionar() {\r\n    db.collection(\"Crud\").add({\r\n      description: description,\r\n      status: false,\r\n      image: description.replace(/ +/g, \"\") + \"_\" + image.name\r\n    })\r\n    setDescription(\"\")\r\n    setTexto('Cadastrado com sucesso')\r\n    //navigation.navigate(\"Read\")\r\n  }\r\n  \r\n  return (\r\n    <View style={styles.container}>\r\n      <Text>{param}</Text>\r\n      <Text style={styles.titleText}>Create</Text>\r\n      <TextInput\r\n        style={styles.textInput}\r\n        placeholder=\"Nome do curso\"\r\n        onChangeText={setDescription}\r\n        value={description}\r\n      />\r\n      <View style={styles.foto}>\r\n        <View style={styles.fotoFoto}>\r\n          <Text style={{ color: '#aaa' }}>\r\n            FOTO\r\n          </Text>\r\n        </View>\r\n        <input type=\"file\" onChange={(e) => { setImage(e.target.files[0]) }} />\r\n        <View style={styles.fotoBotao}>\r\n          <button onClick={upload}>Upload</button>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={styles.textSucesso}>\r\n        <Text style={{ color: '#0c0', fontSize: 20 }}>{texto}</Text>\r\n      </View>\r\n      <View style={styles.botaoSalvar}>\r\n        <Button\r\n          title='Salvar'\r\n          onPress={() => {\r\n            adicionar()\r\n          }}\r\n        />\r\n      </View>\r\n    </View >\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n  },\r\n  textInput: {\r\n    borderRadius: 5,\r\n    backgroundColor: '#eee',\r\n    marginTop: 10,\r\n    padding: 10,\r\n    height: 40,\r\n    width: '60%',\r\n  },\r\n  botaoSalvar: {\r\n    marginBottom: 10,\r\n    padding: 0,\r\n  },\r\n  salvar: {\r\n    fontSize: 15,\r\n    color: '#fff',\r\n    fontFamily: 'arial',\r\n  },\r\n  titleText: {\r\n    color: '#f20a4f',\r\n    fontSize: 25,\r\n    fontWeight: 'bold',\r\n    fontFamily: 'calibri'\r\n  },\r\n  textSucesso: {\r\n    flex: 1,\r\n    //backgroundColor:'#555',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    width: '90%',\r\n    marginBottom: 0,\r\n    marginTop: 0,\r\n  },\r\n  foto: {\r\n    alignItems: 'center',\r\n    marginTop: 30,\r\n  },\r\n  fotoBotao: {\r\n    marginTop: 20,\r\n    width: '30%',\r\n  },\r\n  fotoFoto: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#ddd',\r\n    width: 200,\r\n    height: 200,\r\n  }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}